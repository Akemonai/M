<%- include("../partials/header") %>
<br>
<div class="container">
  <div class="row" style="margin-left: 15%;">
    <div class="w3-display-container">
      <img src=<%= '/profileimg/'+ user.image %> class="img-fluid img-thumbnail w3-circle" style="width: 300px; height: 300px;" alt="Avatar"
      onclick="document.getElementById('modal01').style.display='block'">
      <div id="modal01" class="w3-modal" onclick="this.style.display='none'">
        <span class="w3-button w3-hover-red w3-xlarge w3-display-topright">&times;</span>
        <div class="w3-modal-content w3-animate-zoom">
          <img src=<%= '/profileimg/'+ user.image %> style="width:100%">
        </div>
      </div>
    </div>
    <div style="margin-left: 5%;">
      <strong><h1><%= user.username %></h1></strong>
      <% if(currentUser && user._id.equals(currentUser._id)){ %>
        <% if(currentUser.type == "admin"){ %>
            <a class="btn btn-primary" href="/edumeme/log">Web log</a>
        <% } %>
      <a class="btn btn-warning" href="/edumeme/profile/<%= currentUser._id %>/edit">
      <svg class="bi bi-pencil-square" width="1.3em" height="1.3em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
          <path d="M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456l-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"/>
          <path fill-rule="evenodd" d="M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"/>
      </svg> Edit profile</a>
      <% } %>
      <h3>Name: <%= user.name %></h3>
      <h3>Email: <%= user.email %></h3>
    </div>
  </div>
</div><br><br>
<div class="container">
  <h1><%= user.name %>'s MEME</h1>
  <div class="row" style="display:flex; flex-wrap:wrap;">
    <% Meme.forEach(function(meme){ %>
        <a class="btn btn-light col-lg-3 col-md-4 col-sm-6" href="/edumeme/meme/<%= meme._id %>">
            <div class="img-thumbnail">
                <p><strong><%= meme.author.username %></strong></p>
                <img src=<%= "/uploads/" + meme.image %> class="img-fluid" style="margin: auto; width: 250px; height: 250px;">
                <p style="text-align: center;"><%= meme.name %></p>
            </div>
        </a>
    <% }); %>
    </div>
</div>
<%- include("../partials/footer") %>